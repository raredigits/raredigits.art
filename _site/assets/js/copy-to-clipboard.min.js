const ICON_DEFAULT="content_copy",ICON_SUCCESS="check",RESET_MS=1200;function getCopyText(t){if(t.dataset.copyTarget){let e=document.querySelector(t.dataset.copyTarget);return e?.textContent?.trim()||""}let a=t.closest("[data-copy]")||t.parentElement?.querySelector("[data-copy]");return a?a.getAttribute("href")||a.textContent.trim():""}function fallbackCopy(t){let e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",e.style.pointerEvents="none",document.body.appendChild(e),e.select();let a=document.execCommand("copy");return e.remove(),a}document.addEventListener("click",async t=>{let e=t.target.closest(".copy-data-icon");if(!e||e.dataset.copyBusy)return;let a=getCopyText(e);if(!a)return;e.dataset.copyBusy="1";let c=()=>{e.dataset.icon="check",clearTimeout(e._copyTimer),e._copyTimer=setTimeout(()=>{e.dataset.icon="content_copy",delete e.dataset.copyBusy},1200)};try{await navigator.clipboard.writeText(a),c()}catch{fallbackCopy(a)?c():delete e.dataset.copyBusy}});